(()=>{var e={163:()=>{"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get(){for(var e=[],t=this.target;t;)e.push(t),t=t.parentElement;return-1===e.indexOf(window)&&-1===e.indexOf(document)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e}}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,n=new Array(i);i--;)n[i]=[t[i],e[t[i]]];return n}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1})},238:function(e,t,i){var n;!function(r,o){"use strict";var s="function",a="undefined",c="object",u="string",l="major",d="model",p="name",h="type",f="vendor",v="version",b="architecture",m="console",g="mobile",y="tablet",w="smarttv",k="wearable",S="embedded",T="Amazon",_="Apple",x="ASUS",P="BlackBerry",C="Browser",O="Chrome",I="Firefox",E="Google",A="Huawei",D="LG",M="Microsoft",L="Motorola",N="Opera",j="Samsung",U="Sharp",q="Sony",H="Xiaomi",R="Zebra",F="Facebook",B="Chromium OS",V="Mac OS",z=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},K=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},J=function(e,t){for(var i,n,r,a,u,l,d=0;d<t.length&&!u;){var p=t[d],h=t[d+1];for(i=n=0;i<p.length&&!u&&p[i];)if(u=p[i++].exec(e))for(r=0;r<h.length;r++)l=u[++n],typeof(a=h[r])===c&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;d+=2}},Y=function(e,t){for(var i in t)if(typeof t[i]===c&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(K(t[i][n],e))return"?"===i?o:i}else if(K(t[i],e))return"?"===i?o:i;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[p,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],v],[/\bfocus\/([\w\.]+)/i],[v,[p,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[v,[p,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+C],v],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,O+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,W]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,j],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,j],[h,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,_],[h,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,_],[h,y]],[/(macintosh);/i],[d,[f,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,U],[h,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,A],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,A],[h,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,H],[h,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,H],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[h,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[h,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[h,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,L],[h,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,L],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,D],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,D],[h,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[h,g]],[/(pixel c)\b/i],[d,[f,E],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,E],[h,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,q],[h,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,q],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[h,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,T],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,T],[h,g]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,P],[h,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,x],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,x],[h,g]],[/(nexus 9)/i],[d,[f,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[h,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[h,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[h,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[h,y]],[/(surface duo)/i],[d,[f,M],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[h,g]],[/(u304aa)/i],[d,[f,"AT&T"],[h,g]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[h,g]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[h,y]],[/\b(k88) b/i],[d,[f,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[h,g]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[h,g]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[h,y]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[h,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[h,g]],[/\b(ph-1) /i],[d,[f,"Essential"],[h,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[f,d,[h,g]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,M],[h,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,R],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,R],[h,g]],[/smart-tv.+(samsung)/i],[f,[h,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,j],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,D],[h,w]],[/(apple) ?tv/i],[f,[d,_+" TV"],[h,w]],[/crkey/i],[[d,O+"cast"],[f,E],[h,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,T],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,U],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,q],[h,w]],[/(mitv-\w{5}) bui/i],[d,[f,H],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,G],[d,G],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[h,m]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[d,[f,q],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,M],[h,m]],[/((pebble))app/i],[f,d,[h,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,_],[h,k]],[/droid.+; (glass) \d/i],[d,[f,E],[h,k]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,R],[h,k]],[/(quest( 2| pro)?)/i],[d,[f,F],[h,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,S]],[/(aeobc)\b/i],[d,[f,T],[h,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[h,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,g]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[v,Y,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[v,Y,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,V],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,B],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},X=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof X))return new X(e,t).getResult();var i=typeof r!==a&&r.navigator?r.navigator:o,n=e||(i&&i.userAgent?i.userAgent:""),m=i&&i.userAgentData?i.userAgentData:o,w=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(Z,t):Z,k=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=o,t[v]=o,J.call(t,n,w.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,k&&i&&i.brave&&typeof i.brave.isBrave==s&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,J.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[h]=o,J.call(e,n,w.device),k&&!e[h]&&m&&m.mobile&&(e[h]=g),k&&"Macintosh"==e[d]&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[d]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[p]=o,e[v]=o,J.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[p]=o,e[v]=o,J.call(e,n,w.os),k&&!e[p]&&m&&"Unknown"!=m.platform&&(e[p]=m.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>350?G(e,350):e,this},this.setUA(n),this};X.VERSION="0.7.36",X.BROWSER=z([p,v,l]),X.CPU=z([b]),X.DEVICE=z([d,f,h,m,g,w,y,k,S]),X.ENGINE=X.OS=z([p,v]),typeof t!==a?(e.exports&&(t=e.exports=X),t.UAParser=X):i.amdO?(n=function(){return X}.call(t,i,t,e))===o||(e.exports=n):typeof r!==a&&(r.UAParser=X);var $=typeof r!==a&&(r.jQuery||r.Zepto);if($&&!$.ua){var ee=new X;$.ua=ee.getResult(),$.ua.get=function(){return ee.getUA()},$.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var i in t)$.ua[i]=t[i]}}}("object"==typeof window?window:this)},876:(e,t,i)=>{e.exports=i(253)},661:function(e){var t,i;t=-1,i={onVisible:function(e){var t=i.isSupported();if(!t||!i.hidden())return e(),t;var n=i.change((function(t,r){i.hidden()||(i.unbind(n),e())}));return n},change:function(e){if(!i.isSupported())return!1;var n=t+=1;return i._callbacks[n]=e,i._listen(),n},unbind:function(e){delete i._callbacks[e]},afterPrerendering:function(e){var t=i.isSupported(),n="prerender";if(!t||n!=i.state())return e(),t;var r=i.change((function(t,o){n!=o&&(i.unbind(r),e())}));return r},hidden:function(){return!(!i._doc.hidden&&!i._doc.webkitHidden)},state:function(){return i._doc.visibilityState||i._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==i._doc.hidden||void 0!==i._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(e){var t=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,e,t)},_listen:function(){if(!i._init){var e="visibilitychange";i._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){i._change.apply(i,arguments)};i._doc.addEventListener?i._doc.addEventListener(e,t):i._doc.attachEvent(e,t),i._init=!0}}},e.exports?e.exports=i:this.Visibility=i},253:(e,t,i)=>{!function(t){var n=-1,r=function(e){return e.every=function(t,i,r){e._time(),r||(r=i,i=null);var o=n+=1;return e._timers[o]={visible:t,hidden:i,callback:r},e._run(o,!1),e.isSupported()&&e._listen(),o},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(i,n){var r,o=e._timers[i];if(e.hidden()){if(null===o.hidden)return;r=o.hidden}else r=o.visible;var s=function(){o.last=new Date,o.callback.call(t)};if(n){var a=new Date-o.last;r>a?o.delay=setTimeout((function(){o.id=setInterval(s,r),s()}),r-a):(o.id=setInterval(s,r),s())}else o.id=setInterval(s,r)},e._stop=function(t){var i=e._timers[t];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},e._stopRun=function(t){var i=e.hidden(),n=e._wasHidden;if(i&&!n||!i&&n)for(var r in e._timers)e._stop(r),e._run(r,!i)},e};e.exports?e.exports=r(i(661)):r(t.Visibility||i(661))}(window)}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";window.__adFormats=window.__adFormats||{},window.__formatsGetters=window.__formatsGetters||{};var e=window.__adFormats,t=window.__formatsGetters;function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,n,r){var o=new Error(e);return o.config=t,i&&(o.code=i),o.request=n,o.response=r,o.isHttpError=!0,o.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},o}function a(e){return new Promise((function(t,i){var n,o,a=e.data,c=e.headers,u=new XMLHttpRequest,l=(n=e.baseURL,o=e.url,n&&!/^([a-z][a-z\d\\+\-\\.]*:)?\/\//i.test(o)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(n,o):o);if(u.open(e.method.toUpperCase(),function(e,t){if(!t)return e;var i=Object.keys(t).reduce(((e,i,n,r)=>{var o="".concat(e).concat(i,"=").concat(encodeURIComponent(t[i]));return n!==r.length-1&&(o+="&"),o}),"");return"".concat(e,"?").concat(i)}(l,e.params),!0),u.timeout=e.timeout,u.onreadystatechange=function(){if(u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in u?u.getAllResponseHeaders().split("\r\n").reduce(((e,t)=>{var[i,n]=t.split(": ");return i?r(r({},e),{},{[null==i?void 0:i.toLowerCase()]:n}):e}),{}):null,o={data:e.responseType&&"text"!==e.responseType?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u};!function(e,t,i){!i.status||i.status>=200&&i.status<300?e(i):t(s("Request failed with status code "+i.status,i.config,null,i.request,i))}(t,i,o),u=null}},u.onabort=function(){u&&(i(s("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(s("Network Error",e,null,u)),u=null},u.ontimeout=function(){var t="timeout of ".concat(e.timeout,"ms exceeded");e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(s(t,e,"ECONNABORTED",u)),u=null},"setRequestHeader"in u&&function(e,t){var i;if(null!=e)if("object"!=typeof e&&(e=[e]),i=e,"[object Array]"===Object.prototype.toString.call(i))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}(c,(function(e,t){void 0===a&&"content-type"===t.toLowerCase()?delete c[t]:u.setRequestHeader(t,e)})),void 0!==e.withCredentials&&(u.withCredentials=!!e.withCredentials),e.responseType)try{u.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}a||(a=null),u.send(a)}))}function c(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}var u=new class{constructor(e){this.defaults={timeout:0}}dispatchRequest(e){var t;return null!==(t=e.data)&&"object"==typeof t&&(e.headers||(e.headers={}),e.headers["Content-Type"]="application/json;charset=utf-8",e.data=JSON.stringify(e.data)),a(e).then((function(e){return e.data=c(e.data),e}),(function(e){return e&&e.response&&(e.response.data=c(e.response.data)),Promise.reject(e)}))}get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatchRequest(r(r({},t),{},{url:e,method:"get"}))}post(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.dispatchRequest(r(r({},i),{},{url:e,method:"post",data:i.data?i.data:t}))}};const l="1.159.1";for(var d=new Uint8Array(256),p=0;p<64;p++)d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charCodeAt(p)]=p;d[45]=62,d[95]=63;var h,f,v,b,m=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],g=(h={},m.forEach(((e,t)=>h[e]=t)),String.fromCharCode.bind(String),e=>{for(var t,i,n,r,o="",s=e.length%3,a=0;a<e.length;){if((i=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");o+=m[(t=i<<16|n<<8|r)>>18&63]+m[t>>12&63]+m[t>>6&63]+m[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o}),y=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},w=function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function k(e){var t=e.requestData,i=e.minCpm,n=e.popunderSSPUrl;return y(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(n).concat(i?"?min_cpm=".concat(i):""),{method:"POST",body:JSON.stringify(t)})];case 1:return[2,200===(e=r.sent()).status?e.json():{}]}}))}))}!function(e){e[e.popunder=1]="popunder",e[e.tabunder=2]="tabunder",e[e.tabup=3]="tabup",e[e.tabup_overlay=4]="tabup_overlay"}(f||(f={})),function(e){e[e.twitter=0]="twitter",e[e.telegram=1]="telegram",e[e.facebook=2]="facebook",e[e.instagram=3]="instagram",e[e.snapchat=4]="snapchat",e[e.wechat=5]="wechat"}(v||(v={})),function(e){e[e.off=0]="off",e[e.versionA=1]="versionA",e[e.versionB=2]="versionB"}(b||(b={}));var S=window.top!==window.self,T={twitter:{referrers:["t.co","com.twitter.android"],uaParams:!1},telegram:{referrers:["web.telegram.org"],uaParams:!1},facebook:{referrers:["l.facebook.com","m.facebook.com"],uaParams:["FBAN","FBIOS","FBAV","FB_IAB","FB4A"]},instagram:{referrers:["l.instagram.com","m.instagram.com"],uaParams:["instagram"]},snapchat:{referrer:!1,uaParams:["snapchat"]},wechat:{referrer:!1,uaParams:["MicroMessenger","WeChat","Weixin"]}};var _=function(){return _=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_.apply(this,arguments)};function x(e,t,i){var n,r,o,s,a,c,d,p,h;return c=this,d=void 0,h=function(){var c,d,p,h,b,m,y,w,x,P,C,O,I,E,A,D,M,L,N,j;return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(U){switch(U.label){case 0:if(c=e.visitCounter.count,d=null===(a=e.clickCounter)||void 0===a?void 0:a.count,p=e.youTubeAuthStatus?"ytb_auth,":"",h=p+(e.isMetaMask?"cryptocurrency,":"")+(e.tubesAdTags||e.pageKeywords),e.forceUrl)return[2,{targetUrl:"".concat(e.forceUrl)}];if(e.forceTwinredUrl)return m=e.magmaSourceId||e.sourceId,b=e.forceTwinredUrl.includes("?")?"&":"?",[2,{targetUrl:"".concat(e.forceTwinredUrl).concat(b,"tid=").concat(m,"&kw=").concat(h)}];if(e.forceExoclick&&e.exoclickZoneId)return m=e.magmaSourceId||e.sourceId,[2,{targetUrl:"https://syndication.realsrv.com/splash.php?idzone=".concat(e.exoclickZoneId,"&type=8&p=").concat(encodeURIComponent(window.location.href),"&sub=").concat(m)}];if(function(e){var t,i,n,r,o=(t={event_id:e.event_id,subid:e.subId,spot_id:e.spotId,utmSource:e.holdableQSParams.utm_source,utmMedium:e.holdableQSParams.utm_medium,utmCampaign:e.holdableQSParams.utm_campaign,utmContent:e.holdableQSParams.utm_content,created_at:(i=new Date,n=i.getDate().toString(),r=(i.getMonth()+1).toString(),1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),"".concat(i.getFullYear(),"-").concat(r,"-").concat(n)),timezone:e.timezone,ver:l},Object.entries(t).reduce(((e,t)=>{var[i,n]=t;return""!==n&&void 0!==n&&e.push("".concat(i,"=").concat(encodeURIComponent(n))),e}),[]).join("&")),s="".concat(e.ipv4CheckUrl,"?").concat(o);u.get(s)}(e),y=function(e){var t=e.magmaSourceId||e.sourceId,i=e.exoclickZoneId?t:e.subId,n=function(e,t){var i=[];return e&&i.push("cryptocurrency"),t&&i.push("yt"),i.join(",")}(e.isMetaMask,e.youTubeAuthStatus);return{imp:[{secure:"https:"===window.location.protocol?1:0,probably_yandex_friendly:e.friendlyYandex,ext:{user_keywords:n,tag_ab:e.tagAbVersion,id:Number(e.spaceId),spaceid:e.exoclickZoneId?Number(e.spotId):Number(e.spaceId),type:e.type,subid:String(i),idzone:null==e?void 0:e.exoclickZoneId,utm1:e.utmSource,utm2:e.utmMedium,utm3:e.utmCampaign?String(e.utmCampaign):void 0,utm4:e.utmContent,mo:e.device.model,ve:e.device.vendor,spot_id:Number(e.spotId),labels:e.labels.join(","),blocked_verticals:e.labels.join(","),allowed_labels:e.allowedLabels.join(","),ad_tags:e.adTags,refdomain:e.entryReferrerDomain,is_iframe:S,gyr:e.isGyroscope,features:e.features.join(","),accel:e.isAccelerometer,ssp:e.sspId,rchange:e.rchange,otype:Number(f[e.popunderType]),stratagem:e.abTestMark,v2_track:Number(e.isCloaking),cla:Number(e.isSpotHasCloaking),v2:e.isCloakingConfig,mn:Number(e.mediation),timezone_olson:e.timezoneOlson,event_id:e.event_id,testab:e.testAbId},pext:{ab:Number(e.isAdblock)},metrics:{act_su:e.visitCount||0,act_sess:e.clickCount||0,sp_cl:e.clicksPerSecond||0,sp_scr:e.scrollSpeed||0,ang:e.intolerance||0,izb:e.selectivity||"0",intes:e.involvement||[0],video_pause_freq:e.videoPauseFreq,time_sess:e.timeSess,video_scroll_freq:e.videoScrollFreq,high_fr_clicks:e.highFreqClicks||!1,dev_cons_act:e.devConsoleActivity||!1,scroll_percent:e.scrollPercent,empty_clicks:e.emptyClickCounter,topics:e.topics}}],site:{id:String(e.spotId),cat:["IAB".concat(e.iabCategory)],page:encodeURIComponent(window.location.href).replace(/%2F/g,"/")},device:{w:e.resolution[0],h:e.resolution[1]},user:{id:e.fingerprint,fp:e.visitorId,fp_str:e.visitorIdString,ua_data:e.userAgentData,interest_ids:e.interestIds,is_webview:e.isWebView,is_inapp:e.isInApp,social_network:e.socialNetwork},ext:{dt:Date.now()}}}(_({device:e.device,fingerprint:e.fingerprint,resolution:e.resolution,type:e.type,spaceId:e.spaceId,subId:e.subId,visitorId:e.visitorId,visitorIdString:e.visitorIdString,userId:e.userId,utmSource:e.holdableQSParams.utm_source,utmMedium:e.holdableQSParams.utm_medium,utmCampaign:e.holdableQSParams.utm_campaign,utmContent:e.holdableQSParams.utm_content,sourceId:e.sourceId,spotId:e.spotId,exoclickZoneId:e.exoclickZoneId,labels:e.labels,allowedLabels:e.allowedLabels,isAdblock:e.isAdblock,isMetaMask:e.isMetaMask,youTubeAuthStatus:e.youTubeAuthStatus,entryReferrerDomain:e.entryReferrerDomain,iabCategory:e.iabCategory,isAccelerometer:e.isAccelerometer,isGyroscope:e.isGyroscope,sspId:e.sspId,adTags:h,magmaSourceId:e.magmaSourceId,tagAbVersion:e.tagAbVersion,rchange:e.rchange,mediation:e.mediation,abTestMark:e.abTestMark,isCloaking:e.isCloaking,isSpotHasCloaking:e.isSpotHasCloaking,isCloakingConfig:e.isCloakingConfig,popunderType:e.popunderType,clicksPerSecond:e.clicksPerSecond,userAgentData:e.userAgentData,scrollSpeed:e.scrollSpeed,intolerance:e.intolerance,involvement:e.involvement,videoPauseFreq:e.videoPauseFreq,timeSess:e.timeSess,videoScrollFreq:e.videoScrollFreq,selectivity:e.selectivity,friendlyYandex:e.friendlyYandex,visitCount:c,clickCount:d,interestIds:e.interestIds,comeback:e.comeback,devConsoleActivity:null==t?void 0:t.devConsoleActivity,scrollPercent:e.scrollPercent,emptyClickCounter:e.emptyClickCounter,topics:e.topics,highFreqClicks:null==t?void 0:t.highFreqClicks,timezoneOlson:e.timezoneOlson,event_id:e.event_id,features:e.features,isWebView:e.isWebView,isInApp:e.isInApp,testAbId:e.testAbId,socialNetwork:Object.keys(v).find((function(e){return function(e){var t=window.location.href.includes("tgWebAppData");if("telegram"===e&&t)return!0;var i=T[e]||{},n=i.uaParams,r=i.referrers,o=function(e){try{return new URL(e)}catch(e){return!1}}(document.referrer),s=o?o.hostname.toLowerCase():"";return!(!r||!r.includes(s))||!!n&&new RegExp(n.join("|"),"i").test(navigator.userAgent)}(e)}))||""},i)),w=function(e,t,i){var n=e.backUrl?"&burl=".concat(encodeURIComponent(e.backUrl)):"";return"".concat(t,"?go=1&data=").concat(g(JSON.stringify(i))).concat(n)}(e,e.primaryAuctionUrl||e.reserveSSPUrl,y),e.isAdblock||e.isDirectAuction)return[2,{targetUrl:w}];x=[e.primaryAuctionUrl,e.reserveSSPUrl],e.isTubeSite||e.primaryAuctionUrl||x.push(e.hashedSSPUrl),P={},U.label=1;case 1:U.trys.push([1,9,10,15]),C=!0,O=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,r){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,r,(t=e[i](t)).done,t.value)}))}}}(x),U.label=2;case 2:return[4,O.next()];case 3:if(I=U.sent(),n=I.done)return[3,8];if(s=I.value,C=!1,!(E=s))return[3,7];U.label=4;case 4:return U.trys.push([4,6,,7]),[4,k({requestData:y,minCpm:e.minCpm,popunderSSPUrl:E})];case 5:return(P=U.sent()).url?[3,8]:[3,7];case 6:return U.sent(),[3,7];case 7:return C=!0,[3,2];case 8:return[3,15];case 9:return A=U.sent(),r={error:A},[3,15];case 10:return U.trys.push([10,,13,14]),C||n||!(o=O.return)?[3,12]:[4,o.call(O)];case 11:U.sent(),U.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return D=P.url,M=P.creative_url,L=P.comeback_url,N=P.conditions,j=P.rchange_url,D?[2,{targetUrl:D,rchangeUrl:j,creativeUrl:M,comebackUrl:L,conditions:N}]:[2,{targetUrl:w}]}}))},new((p=void 0)||(p=Promise))((function(e,t){function i(e){try{r(h.next(e))}catch(e){t(e)}}function n(e){try{r(h.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof p?r:new p((function(e){e(r)}))).then(i,n)}r((h=h.apply(c,d||[])).next())}))}function P(e,t){var i={storeName:t.storeName,mode:t.popunderType,nextHitTime:t.frequencyIntervalTime,maxHitsPerPage:t.frequencyPerPage,sessionTime:t.cappingTime,maxHitsPerSession:t.frequency,beforeOpen:t.beforeOpen,afterOpen:t.afterOpen,shouldFire:t.shouldOpen,isTabunderPerPageCappingActive:t.isTabunderPerPageCappingActive,startType:t.startType,isOverlay:t.popunderParams.overlay,shouldAddQuery:t.shouldAddQuery};return t.bindTo&&(i.bindTo=t.bindTo.split(",").map((function(e){return e.trim()}))),t.ignoreTo&&(i.ignoreTo=t.ignoreTo.split(",").map((function(e){return e.trim()}))),t.popService.add(e,i)}var C=new class{constructor(){this.state={}}set(e,t){this.state[e]=t}get(e){return this.state[e]||null}remove(e){delete this.state[e]}},O={set:(e,t)=>localStorage.setItem(e,t),get:e=>localStorage.getItem(e),remove:e=>localStorage.removeItem(e)};try{O.set("__try",1),O.get("__try"),O.remove("__try")}catch(e){O=C}var I=O,E=function(){function e(e,t){this.historyKey="TCPOP",this.storage="Edge"===t.browser.name&&t.browser.major<79?e:I}return e.prototype.getAllPopsHistory=function(){var e=this.storage.get(this.historyKey);try{var t=JSON.parse(e);return t.ignitions||(t.ignitions={}),t}catch(e){return{ignitions:{}}}},e.prototype.setAllPopsHistory=function(e){var t=JSON.stringify(e);this.storage.set(this.historyKey,t)},e.prototype.getConfiguration=function(e){var t,i=this.getAllPopsHistory();return null!==(t=null==i?void 0:i.ignitions[e])&&void 0!==t?t:[]},e.prototype.setConfiguration=function(e,t){void 0===t&&(t=[]);var i=this.getAllPopsHistory();i.ignitions[e]=t,this.setAllPopsHistory(i)},e.prototype.savePreviousPageFireCounter=function(e,t){this.storage.set(e,JSON.stringify({p:window.location.href,value:t}))},e.prototype.extractPreviousPageFireCounter=function(e){var t=0,i=this.storage.get(e);if(this.storage.remove(e),i)try{var n=JSON.parse(i);n.p===window.document.referrer&&(t=n.value)}catch(e){}return t},e.prototype.clearConfiguration=function(){try{return this.storage.remove(this.historyKey),!0}catch(e){return console.warn(e),!1}},e}();const A=E;i(163),i(238);const D=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pageHtml:i,pageOptions:n={},target:r="_blank"}=t,o=e;if(i){var s=new Blob(i.match(/[^\r\n]+/g).map((e=>e.trim())),{type:"text/html"});o=URL.createObjectURL(s)}var a=Object.keys(n||{}).map((e=>"".concat(e," = ").concat(n[e]))).join(","),c=window.open(o,r,a);return c||"_self"!==r?c:(window.location=e,window)}function L(e,t){var{url:i,rchangeUrl:n}=e,r=null;if(!n)return(r=M(i,t)).onPopOpen=()=>{r.location=i},r;r=M("",t);var o=document.createElement("form");r&&(o.target=t.target),o.action=n,o.method="POST";var s=document.createElement("input");return s.setAttribute("type","text"),s.setAttribute("name","url"),s.setAttribute("value",i),s.setAttribute("hidden","true"),o.appendChild(s),document.body.appendChild(o),r.onPopOpen=()=>o.submit(),r}var N=function(e){var t;e.left=e.left||0,e.top=e.top||0,e.width=e.width||window.screen.availWidth,e.height=e.height||window.screen.availHeight;var i,n=function(){window.moveTo(e.left,e.top),window.resizeTo(e.width,e.height)},r=0;i=navigator&&navigator.platform&&0===navigator.platform.indexOf("Mac")?function(){r?window.moveTo(window.screen.availWidth,70):window.moveTo(window.screen.availWidth,window.screen.availHeight),r=1-r}:function(){r?window.moveTo(0,0):window.moveTo(window.screen.availWidth,window.screen.availHeight),r=1-r};var o=function(){var t,i,n;window.opener&&window.opener.postMessage(Object.assign(((n={})[e.idName]=e.id,n),{open:1}),"*"),null===(t=(i=window).onPopOpen)||void 0===t||t.call(i)};window.addEventListener("blur",(function(){t=1,n(),o()})),window.addEventListener("click",(function(){t=1,n(),o()}));var s=parseInt(e.timeout)||50,a=Math.trunc((parseInt(e.duration)||3e3)/s),c=0,u=function e(){return t?(n(),o()):(i(),++c<a?setTimeout(e,s):(n(),t=1,void o()))};window.addEventListener("mouseover",(function(){u()}))};const j=function(e,t,i,n,r){var o={},{url:s}=e;o.url=0===(s||location.toString()).indexOf("//")?location.protocol+s:s,t.size||(o.size={}),o.size.width=t.size&&(parseInt(t.size.width)||0),o.size.height=t.size&&(parseInt(t.size.height)||0),t.position||(o.position={}),o.position.left=t.position&&(parseInt(t.position.left)||0),o.position.top=t.position&&(parseInt(t.position.top)||0),o.duration=parseInt(t.duration)||5e3;var a={location:"yes",scrollbars:"yes",status:"yes",height:100,width:100,left:window.screen.availWidth,top:window.screen.availHeight-100},c=D(),u="__popWinId",l=window;window.addEventListener("message",(function(e){e&&e.data&&e.data[u]===c&&(1===e.data.open&&n(r.target,t),l.blur(),window.focus())})),i(r.target,t,r);var d=function(e){return"\n    <title>loading...</title>\n    <body>\n        <script>(".concat(N.toString(),")(").concat(JSON.stringify(e),")<\/script>\n    </body>")}({id:c,idName:u,url:e.rchangeUrl?"":o.url,left:o.position.left,top:o.position.top,width:o.size.width,height:o.size.height,duration:o.duration});l=L(e,{pageHtml:d,pageOptions:a,target:"_pop",createNewPage:!0})};function U(e){return!(void 0===e||""===e||/\s?javascript\s?:/i.test(e))}const q=function(e,t,i,n,r){try{I.set("re_inp","1"),function(e,t,i,n,r){var o;r.preventDefault(),r.stopPropagation();var{target:s}=r,a=!1;try{for(;s!==document&&!s.getAttribute("href");)s=s.parentNode;"a"===s.nodeName.toLowerCase()&&"_blank"!==s.getAttribute("target")&&U(s.getAttribute("href"))&&(a=s.getAttribute("href"))}catch(e){console.warn(e)}a=a||window.location.href,i(r.target,t,r),window.open(a,"_blank");var c=L(e,{target:"_self",pageOptions:null});null===(o=c.onPopOpen)||void 0===o||o.call(c),n(r.target,t)}(e,t,i,n,r)}catch(e){console.warn(e)}},H=function(e,t,i,n,r,o){var{browser:s}=o;switch(s.name){case"Chrome":case"Opera":case"UCBrowser":case"Firefox":j(e,t,i,n,r);break;case"Safari":!function(e,t,i,n,r){i(r.target,t,r);var o="left=".concat(window.screenX,",top=").concat(window.Y,"height=").concat(window.outerHeight,",width=").concat(outerWidth);L(e,{target:D,pageOptions:o,createNewPage:!0}).onPopOpen();var s=window.open("about:blank");s.focus(),s.close(),n(r.target,t)}(e,t,i,n,r);break;case"IE":!function(e,t,i,n,r){i(r.target,t,r);var o=L(e,{pageOptions:"top=0,left=0,width=".concat(screen.availWidth,",height=").concat(screen.availHeight),createNewPage:!0,target:"_pop"});o.blur(),window.focus(),o&&n(r.target,t)}(e,t,i,n,r);break;case"Edge":s.major<79?q(e,t,i,n,r):j(e,t,i,n,r);break;default:try{j(e,t,i,n,r)}catch(e){console.warn(e)}}};function R(e){return"[object Array]"===Object.prototype.toString.call(e)}function F(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function B(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),R(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function V(){var e={};function t(t,i){F(e[i])&&F(t)?e[i]=V(e[i],t):F(t)?e[i]=V({},t):R(t)?e[i]=t.slice():e[i]=t}for(var i=0,n=arguments.length;i<n;i++)B(arguments[i],t);return e}function z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var K,W,G=!1,J={ignoreTo:[],bindTo:["body"],perpage:1,mode:{newTab:!1,under:!0},storeName:"tcpop",nextHitTime:5,isWindowOpenAccessible:function(){try{return window.open,!0}catch(e){return!1}}()},Y={popunder:{newTab:!1,under:!0},tabunder:{newTab:!0,under:!0},tabup:{newTab:!0,under:!1},tabup_overlay:{overlay:!0}},Q={mode:(e,t)=>(e.mode="string"==typeof t?Y[t]:t,e),maxHitsPerSession:(e,t)=>(e.limit||(e.limit={}),e.limit.maxHits=t,e),sessionTime:(e,t)=>(e.limit||(e.limit={}),e.limit.perTime=t,e),maxHitsPerPage:(e,t)=>(e.perpage=t,e)};function Z(e){return Object.entries(e).reduce(((e,t)=>{var[i,n]=t;return Q[i]?Q[i](e,n):(e[i]=n,e)}),{})}function X(e){return V(J,e)}function $(e,t,i,n){var r=Number(t)||0,o=Number(e);return n||Number.isNaN(o)?r*i:o}function ee(e,t){if(!e||!t)return!1;var i=1e3*t;return Date.now()-e>i}!function(e){e[e.second=1]="second",e[e.minute=60]="minute",e[e.hour=3600]="hour"}(W||(W={}));var te=function(){function e(){}return e.filterExpiredClicks=function(e,t){return e.filter((function(e){return!ee(e,t)}))},e.canClick=function(t,i,n){void 0===n&&(n=0);var r=t.maxHitsPerPage,o=t.maxHitsPerSession,s=t.nextHitTime,a=t.sessionTime,c=o>0;if(!(null==i?void 0:i.length))return{clicks:i,result:!0};if(r>0&&n>=r)return{clicks:i,result:!1};var u=i;return c&&(u=e.filterExpiredClicks(i,a)).length>=o?{clicks:u,result:!1}:s>0&&(u=c?u:e.filterExpiredClicks(i,s)).length?{clicks:u,result:ee(u[u.length-1],s)}:{clicks:u,result:!0}},e}();const ie=te;function ne(e,t){if(!e)return"";var i=e.includes("?")?"&":"?";return"".concat(e).concat(i).concat(t.join("&"))}var re=function(e,t,i){var n,r,o=Math.floor(t.getDurationTime()/1e3),s=(t.getItem("popFires")||0)+1;t.setItem("popFires",s);var a=window.innerWidth,c=window.innerHeight,u={x:(null!==(n=e.clientX)&&void 0!==n?n:0)/a,y:(null!==(r=e.clientY)&&void 0!==r?r:0)/c,session_time:o,pop_fires:s,g_f:i};return Object.keys(u).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(u[e]))})).join("&")};const oe=function(){function e(){}return e.saveResponse=function(t,i){var n={response:t,timestamp:Date.now()};localStorage.setItem(e.STORAGE_KEY+i,JSON.stringify(n))},e.getResponse=function(t){var i=localStorage.getItem(e.STORAGE_KEY+t);if(!i)return null;localStorage.removeItem(e.STORAGE_KEY+t);var n=JSON.parse(i),r=n.response,o=n.timestamp;return this.isValid(o)?r:null},e.isValid=function(e){return Date.now()-e<=36e5},e.STORAGE_KEY="a_r_d_",e}();class se{constructor(e,t,i,n,r,o,s,a){this.url=e.targetUrl,this.rchangeUrl=e.rchangeUrl,this.opts=t,this.userAgent=n,this.sessionService=r,this.storeName=this.opts.storeName,this.historyService=i,this.fireCounter=this.historyService.extractPreviousPageFireCounter(this.storeName),this.clicksTimestamps=this.historyService.getConfiguration(this.storeName),this.interestIds=o,this.isTabunderPerPageCappingActive=this.opts.isTabunderPerPageCappingActive,this.startType=a,this.beforeOpen=(e,i,n)=>{this.clicksTimestamps.push(Date.now()),this.historyService.setConfiguration(this.storeName,this.clicksTimestamps),this.isTabunderPerPageCappingActive&&this.opts.mode.newTab&&this.opts.mode.under&&this.historyService.savePreviousPageFireCounter(this.storeName,this.fireCounter),"function"==typeof t.beforeOpen&&t.beforeOpen(e,this.opts,n,(e=>re(e,this.sessionService,this.startType)),this.url)},this.afterOpen=e=>{"function"==typeof t.afterOpen&&t.afterOpen(e,this.opts)},this.shouldFire=se.shouldFire.bind(this)}static shouldFire(e,t,i,n,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(e&&"function"==typeof t.shouldFire&&!1===t.shouldFire(null==e?void 0:e.target,t,e,this))return!1;var s=function(e){return{maxHitsPerPage:e.perpage||0,nextHitTime:e.nextHitTime||0,sessionTime:e.limit.perTime||0,maxHitsPerSession:e.limit.maxHits||0}}(t),{result:a,clicks:c}=ie.canClick(s,i,n);return o&&c&&r.setConfiguration(t.storeName,c),a}fire(e){if(function(e,t){var{browser:i}=t;return!(!("isTrusted"in e)||!e.isTrusted||"Edge"===i.name||"Safari"===i.name)||0!==e.screenX&&0!==e.screenY}(e,this.userAgent)){var t=this.opts.ignoreTo.map((e=>e.trim())).join(","),i=this.opts.bindTo.map((e=>e.trim())).join(","),n=e.path||e.composedPath&&e.composedPath(),r=0;if(t){for(;n[r].tagName&&!n[r].matches(t);)r+=1;n[r]!==document&&(n=[])}return((n=i?n.filter((e=>e.tagName&&e.matches(i))):[]).length||this.opts.mode.returnLink)&&this.shouldFire(e,this.opts,this.clicksTimestamps,this.fireCounter,this.historyService,!0)?("number"==typeof J.perpage&&J.perpage>0&&J.perpage--,this.fireCounter+=1,this.open(e)):void 0}}open(e){var t=re(e,this.sessionService,this.startType),i=this.opts.shouldAddQuery?ne(this.url,[t]):this.url;if(this.opts.mode.returnLink)return i;if(this.opts.mode.overlay)this.afterOpen(e.target);else{var n={url:i,rchangeUrl:this.rchangeUrl};this.opts.isWindowOpenAccessible?!this.opts.mode.newTab&&this.opts.mode.under?H(n,this.opts,this.beforeOpen,this.afterOpen,e,this.userAgent):this.opts.mode.newTab&&this.opts.mode.under?q(n,this.opts,this.beforeOpen,this.afterOpen,e):this.opts.mode.newTab&&!this.opts.mode.under&&function(e,t,i,n,r){var o;i(r.target,t,r);var s=L(e,{target:"tabup"});null===(o=s.onPopOpen)||void 0===o||o.call(s),n(r.target,t)}(n,this.opts,this.beforeOpen,this.afterOpen,e):function(e,t,i,n,r,o){r.preventDefault(),r.stopPropagation();for(var s="mobile"===o.device.type,a=o.browser.name,c=r.target,u=window.location.href;c!==document&&!c.getAttribute("href");)c=c.parentNode;"a"===c.nodeName.toLowerCase()&&"_blank"!==c.getAttribute("target")&&U(c.getAttribute("href"))&&(u=c.getAttribute("href")),i(r.target,t,r);var l=document.createElement("a");if(l.href=u,(s||"Chrome"!==a)&&(l.target="_blank",l.click()),"Chrome"===a){var d=document.createEvent("MouseEvents");document.body.appendChild(l),d.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!0,0,null),d.preventDefault=void 0,l.dispatchEvent(d),l.parentNode.removeChild(l)}n(r.target,t),window.location=e}(i,this.opts,this.beforeOpen,this.afterOpen,e,this.userAgent)}}}const ae=se;function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class le{static createLinkOverlay(e){var t=document.createElement("a");return t.href=e,t.target="_blank",t.setAttribute("style","\n      position: fixed;\n      cursor: default;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n  "),t}static create(e){var{urls:t,options:i,historyService:n,userAgent:r,sessionService:o,interestIds:s,backButtonRedirect:a}=e,c=le.createLinkOverlay(t.url);document.body.append(c);var u=new ae(t,X(ue(ue({},i),{},{bind_to:"",ignore_to:""})),n,r,o,s,a);return u.shouldFire(null,i)?(c.addEventListener("click",(e=>{u.beforeOpen(e.target,i,e),u.fire(e),u.shouldFire(e,i)||c.remove()})),u):(c.remove(),null)}}const de=function(){function e(e){this.origin=!1,this.pop=e,this.setup(),this.origin&&this.postMessageListener()}return e.prototype.setup=function(){var e=this;"main"===document.body.id?(this.origin=!0,document.querySelectorAll("a.clickbox").forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),window.open(e.href,"_blank")}))}))):window.opener&&!this.origin&&document.querySelectorAll("a.clickbox").forEach((function(t){t.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation(),window.open(t.href,"_blank"),e.pop.opts.mode.returnLink=!0;var n=e.pop.fire(i);n&&window.opener.postMessage({url:n})}))}))},e.prototype.postMessageListener=function(){window.addEventListener("message",(function(e){var t;(null===(t=e.data)||void 0===t?void 0:t.url)&&(window.location=e.data.url)}))},e}();class pe{constructor(e,t,i,n,r){this.historyService=e,this.userAgent=t,this.pops=[],this.transparentLayer=null,this.globalClickHandler=i,this.sessionService=n,this.interestIds=r,this.afterFullscreenHandler=null,this.backButtonRedirect=!1,this.threeTabsRedirect=!1}config(){var e;return e=Z(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=X(e),this}add(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw new TypeError("Invalid Auction Response");var{rchangeUrl:i,targetUrl:n}=e,r=Z(t);if(r.isOverlay&&(this.createTransparentLayer(),r.bindTo=["body"],r.afterOpen=()=>this.removeTransparentLayer()),"tabup_overlay"===t.mode)return le.create({urls:{rchangeUrl:i,url:n},options:r,historyService:this.historyService,userAgent:this.userAgent,sessionService:this.sessionService,interestIds:this.interestIds,backButtonRedirect:this.backButtonRedirect});G||(this.globalClickHandler.addHandler((e=>{this.pops.forEach((t=>{var i;i=e.target,K=i,t.fire(e)}))})),G=!0);var o=new ae({rchangeUrl:i,targetUrl:n},X(r),this.historyService,this.userAgent,this.sessionService,this.interestIds,this.backButtonRedirect,t.startType);return this.threeTabsRedirect&&new de(o),this.pops.push(o),o}getPopStack(){return this.pops}reset(){return this.historyService.clearConfiguration()}getConfig(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},J)}getLastClickedElement(){return K}removePop(e){this.transparentLayer&&this.removeTransparentLayer(),this.pops=this.pops.filter((t=>t!==e))}clearPopStack(){this.pops=[]}createTransparentLayer(){this.transparentLayer=document.createElement("div"),this.transparentLayer.setAttribute("style","position: fixed; inset: 0px; z-index: 2147483647; background: black; opacity: 0.01;"),this.transparentLayer.style.width="".concat(window.innerWidth,"px"),this.transparentLayer.style.height="".concat(window.innerHeight,"px"),window.document.body.appendChild(this.transparentLayer)}removeTransparentLayer(){this.transparentLayer&&document.body.contains(this.transparentLayer)&&(window.document.body.removeChild(this.transparentLayer),this.transparentLayer=null)}}var he="__ampop",fe=Boolean(!1);function ve(e){var{storeName:t,popunderType:i,frequencyIntervalTime:n,frequencyPerPage:r,cappingTime:o,frequency:s,beforeOpen:a,shouldOpen:c,historyService:u}=e;function l(){return ae.shouldFire(null,Z({storeName:t,mode:i,nextHitTime:n,maxHitsPerPage:r,sessionTime:o,maxHitsPerSession:s,beforeOpen:a,shouldFire:c}),u.getConfiguration(t),0,u,!0)}return new Promise((e=>{if(l())e();else var t=setInterval((()=>{l()&&(clearInterval(t),e())}),1e3)}))}function be(e,t){var i,n,r,o=e.ua,s=e.isTubeSite,a=e.entryReferrerDomain,c=e.isAdBlock,u=null===(r=null===(n=null===(i=o.browser)||void 0===i?void 0:i.name)||void 0===n?void 0:n.toLowerCase())||void 0===r?void 0:r.includes("chrome");return(t.isTubeSite?[u,!a.includes("google")]:[u,me(a,s,t),!c]).every((function(e){return e}))}function me(e,t,i){return(!e.includes("google")||!i.isGoogleEligibleRefferer)&&(i.isGoogleEligible?""===e||e===window.location.hostname:t?e.includes("google")||""===e:""===e||e===window.location.hostname)}var ge=function(){function e(e){this.visitCounterLS="visitCounter",this.lastVisitIdLS="lastVisitId";var t=+(I.get(this.visitCounterLS)||0);e!==I.get(this.lastVisitIdLS)&&(I.set(this.visitCounterLS,t+1),I.set(this.lastVisitIdLS,e))}return Object.defineProperty(e.prototype,"count",{get:function(){return+(I.get(this.visitCounterLS)||0)},enumerable:!1,configurable:!0}),e}();const ye=ge;const we=function(e){return t=this,i=void 0,r=function(){var t;return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){switch(i.label){case 0:if(!e)return[2,[]];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.get("_crtverts")];case 2:return"string"==typeof(t=i.sent())&&(t=JSON.parse(t)),[2,Array.isArray(t)?t:[]];case 3:return i.sent(),[2,[]];case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,a)}c((r=r.apply(t,i||[])).next())}));var t,i,n,r};function ke(e,t,i){return void 0===t&&(t=250),void 0===i&&(i=2e3),new Promise((function(n){var r=0,o=setInterval((function(){var s=document.querySelector(e);s&&(clearInterval(o),n(s)),(r+=t)>=i&&(clearInterval(o),n(null))}),t)}))}const Se=function(){function e(e){this.userEvents={data:[]},this.sessionService=e;var t=I.get(this.getLocalStorageKey());this.userEvents=t?JSON.parse(t):this.userEvents}return e.prototype.cumulativeEvents=function(){this.sessionService.isSessionTheSame()||(this.userEvents.data.length>=3&&this.userEvents.data.pop(),this.userEvents.data.unshift(0))},e.prototype.addEventValue=function(e){var t=this.userEvents.data;"number"==typeof t[0]&&(t[0]+=e,this.saveEventsToStorage())},e.prototype.setEventValue=function(e){this.userEvents.data[0]=e,this.saveEventsToStorage()},e.prototype.getMetrics=function(){return this.userEvents.data},e.prototype.getMetric=function(e){var t,i;return void 0===e&&(e=0),null!==(i=null===(t=this.userEvents)||void 0===t?void 0:t.data[e])&&void 0!==i?i:null},e.prototype.saveEventsToStorage=function(){I.set(this.getLocalStorageKey(),JSON.stringify(this.userEvents))},e}();var Te,_e=(Te=function(e,t){return Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},Te(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Te(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});const xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.getLocalStorageKey=function(){return"p_v_p_f_t"},t.prototype.start=function(){return e=this,t=void 0,n=function(){var e,t,i,n,r=this;return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:this.cumulativeEvents(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,ke("video:not(.vast_player_video)")];case 2:return e=o.sent(),t=!1,i=!1,null==e||e.addEventListener("seeking",(function(){t=!0,clearTimeout(n),n=setTimeout((function(){t=!1}),1e3)})),null==e||e.addEventListener("ended",(function(){i=!0})),null==e||e.addEventListener("pause",(function(){setTimeout((function(){t||i||r.addEventValue(1)}),500)})),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n},t}(Se);const Pe=function(){function e(){this.videosWatched=0,this.storageKey="selectivity"}return e.prototype.startTracking=function(){this.asyncTrackingInit()},e.prototype.asyncTrackingInit=function(){return e=this,t=void 0,n=function(){return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return[4,ke("video:not(.vast_player_video)")];case 1:return e.sent()&&(this.bindVideoEvents(),this.saveMetricsPeriodically(),this.initiateNewSession()),[2]}}))},new((i=void 0)||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n},e.prototype.bindVideoEvents=function(){var e=this;document.querySelectorAll("video:not(.vast_player_video)").forEach((function(t){var i=0,n=t.currentTime;t.addEventListener("timeupdate",(function(){var r=t.dataset;if(!t.paused&&!t.ended){var o=t.currentTime,s=o-n;s<=1&&s>=0&&(i+=s),i>=.1&&!r.counted&&(r.counted="true",e.videosWatched++),n=o}}))}))},e.prototype.saveMetricsPeriodically=function(){var e=this;this.intervalId=window.setInterval((function(){e.updateCurrentSession()}),1e3)},e.prototype.initiateNewSession=function(){var e=this.loadSessionData();for(e.unshift(0);e.length>3;)e.pop();I.set(this.storageKey,JSON.stringify(e))},e.prototype.updateCurrentSession=function(){var e=this.loadSessionData();Array.isArray(e)&&e.length>0?(e[0]=this.videosWatched,I.set(this.storageKey,JSON.stringify(e))):this.initiateNewSession()},e.prototype.loadSessionData=function(){var e=I.get(this.storageKey),t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]},e.prototype.getMetric=function(){return this.loadSessionData().join(",")},e.prototype.stopTracking=function(){this.intervalId&&clearInterval(this.intervalId)},e}();const Ce=function(){function e(){this.totalVideoSecondsWatched=0,this.storageKey="involvement"}return e.prototype.startTracking=function(){this.asyncTrackingInit()},e.prototype.asyncTrackingInit=function(){return e=this,t=void 0,n=function(){return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return[4,ke("video:not(.vast_player_video)")];case 1:return e.sent()&&(this.bindVideoEvents(),this.saveMetricsPeriodically(),this.startNewSession()),[2]}}))},new((i=void 0)||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n},e.prototype.bindVideoEvents=function(){var e=this,t=document.querySelectorAll("video:not(.vast_player_video)");window.addEventListener("click",(function(){t.forEach((function(t){var i=t,n=i.currentTime;i.addEventListener("timeupdate",(function(){if(!i.paused&&!i.ended){var t=i.currentTime,r=t-n;r>0&&r<=1&&(e.totalVideoSecondsWatched+=r),n=t}}))}))}),{once:!0})},e.prototype.saveMetricsPeriodically=function(){var e=this;this.saveInterval=window.setInterval((function(){e.updateCurrentSession()}),1e3)},e.prototype.updateCurrentSession=function(){var e=this.loadSessionData();e.length>0?(e[0]=Math.round(this.totalVideoSecondsWatched),I.set(this.storageKey,JSON.stringify(e))):this.startNewSession()},e.prototype.startNewSession=function(){var e=this.loadSessionData();for(e.unshift(Math.round(this.totalVideoSecondsWatched));e.length>3;)e.pop();I.set(this.storageKey,JSON.stringify(e))},e.prototype.loadSessionData=function(){var e=I.get(this.storageKey);return e?JSON.parse(e):[]},e.prototype.getMetric=function(){return this.loadSessionData()},e.prototype.stopTracking=function(){this.saveInterval&&clearInterval(this.saveInterval)},e}(),Oe=function(){function e(){this.startTime=null,this.clicksCount=0,this.localStorageKey="clicksPerSecond",this.trackingIntervalId=null,this.secondsTracked=0,this.trackClickBound=this.trackClick.bind(this)}return e.prototype.startTracking=function(){var e=this;setTimeout((function(){e.startTime=Date.now(),e.clicksCount=0,window.addEventListener("click",e.trackClickBound),e.trackingIntervalId=window.setInterval((function(){e.secondsTracked+=1,e.secondsTracked>=9&&e.stopTracking();var t=e.getClicksPerSecond();localStorage.setItem(e.localStorageKey,t.toString())}),1e3)}),1e3)},e.prototype.stopTracking=function(){this.trackingIntervalId&&window.clearInterval(this.trackingIntervalId),window.removeEventListener("click",this.trackClickBound)},e.prototype.trackClick=function(){this.clicksCount+=1},e.prototype.getClicksPerSecond=function(){if(!this.startTime)return 0;var e=(Date.now()-this.startTime)/1e3;return this.clicksCount/e},e.prototype.getStoredClicksPerSecond=function(){var e=localStorage.getItem(this.localStorageKey),t=0;return e&&(t=parseFloat(e)),t},e}(),Ie=function(){function e(){this.startTime=null,this.scrollLength=0,this.prevScrollPosition=window.scrollY,this.localStorageKey="scrollSpeed",this.trackingIntervalId=null,this.secondsTracked=0,this.trackScrollBound=this.trackScroll.bind(this)}return e.prototype.startTracking=function(){var e=this;setTimeout((function(){e.startTime=Date.now(),e.scrollLength=0,e.prevScrollPosition=window.scrollY,document.addEventListener("scroll",e.trackScrollBound),e.trackingIntervalId=window.setInterval((function(){e.secondsTracked+=1,e.secondsTracked>=20&&e.stopTracking();var t=e.getScrollSpeed();localStorage.setItem(e.localStorageKey,t.toString())}),1e3)}),1e3)},e.prototype.stopTracking=function(){this.trackingIntervalId&&window.clearInterval(this.trackingIntervalId),document.removeEventListener("scroll",this.trackScrollBound)},e.prototype.trackScroll=function(){var e=window.scrollY;this.scrollLength+=Math.abs(e-this.prevScrollPosition),this.prevScrollPosition=e},e.prototype.getScrollSpeed=function(){if(!this.startTime)return 0;var e=(Date.now()-this.startTime)/1e3;return this.scrollLength/e},e.prototype.getStoredScrollSpeed=function(){var e=localStorage.getItem(this.localStorageKey),t=0;return e&&(t=parseFloat(e)),t},e}();var Ee;!function(e){e.request="request",e.click="click",e.comeback="comeback"}(Ee||(Ee={}));const Ae=function(){function e(){this.frozenLatency={},this.initialTimeStamps={request:1,click:1,comeback:1}}return e.prototype.getLatencyOfEvent=function(e){return this.frozenLatency[e]?this.frozenLatency[e]:Date.now()-this.initialTimeStamps[e]},e.prototype.saveInitialTimeStampOfEvent=function(e){this.initialTimeStamps[e]=Date.now()},e.prototype.freezeLatencyOfEvent=function(e,t){this.frozenLatency[e]=t},e}(),De=function(){function e(e,t){this.localKey="a_ng_lw",this.comebackKey="c_b_k",this.tabunderKey="t_t_st",this.urlKey="c_b_d",this.initTime=null,this.isOriginalTab=!0,this.lastClickTime=null,this.spotId=e,this.eventsLatencyDetector=t,this.comebackData=JSON.parse(I.get(this.urlKey)||"{}"),I.remove(this.urlKey)}return e.prototype.setSpotId=function(e){this.spotId=e},e.prototype.setComebackUrl=function(e){this.comebackData.comebackUrl=e},e.prototype.saveComebackData=function(e){I.set(this.urlKey,JSON.stringify(e))},e.prototype.setMetric=function(e){I.set(this.localKey,e.toString())},e.prototype.saveAndUpdateComebackTime=function(e){if(0!==e){var t=this.getComebackTimes();t.unshift(e),t.length>3&&t.pop(),I.set(this.comebackKey,JSON.stringify(t)),this.checkAndSendMetrics()}},e.prototype.checkAndSendMetrics=function(){if(this.comebackData.comebackUrl){var e=this.getComebackTimes().join(","),t=this.getPrevStepDiff(),i="".concat(this.comebackData.comebackUrl,"?cbt=").concat(e).concat(t?"&prev_step_diff=".concat(t):"");n=i,new Promise((function(e){n||e({status:"error"});var t=new Image;t.src=n,t.onload=function(){return e({status:"ok"})},t.onerror=function(){return e({status:"error"})}}))}var n},e.prototype.getPrevStepDiff=function(){var e;return this.eventsLatencyDetector.getLatencyOfEvent(Ee.click)||((null===(e=this.comebackData)||void 0===e?void 0:e.clickTime)?Date.now()-this.comebackData.clickTime:null)},e.prototype.tabunderActivated=function(){I.set(this.tabunderKey,Date.now().toString())},e.prototype.monitorTabupBehavior=function(){var e=this;this.initTime=Date.now(),this.saveAndUpdateComebackTime(0),window.addEventListener("focus",(function(){if(e.initTime){var t=Date.now()-e.initTime;e.saveAndUpdateComebackTime(t),e.initTime=null}}),{once:!0})},e.prototype.monitorTabunderBehavior=function(){var t=this;I.get(this.tabunderKey)&&(document.addEventListener("click",(function(){t.lastClickTime=Date.now()})),window.addEventListener("blur",(function(){t.isOriginalTab=!1,t.initTime=Date.now();var i=document.activeElement;t.saveAndUpdateComebackTime(0),window.addEventListener("focus",(function(){if(t.initTime&&!t.isOriginalTab){var n=Date.now()-t.initTime,r=t.lastClickTime?Date.now()-t.lastClickTime:1/0;"IFRAME"!==(null==i?void 0:i.tagName)&&(null===t.lastClickTime||r>e.CLICK_THRESHOLD)&&t.saveAndUpdateComebackTime(n),n<=3e3&&t.setMetric(1),I.remove(t.tabunderKey),t.initTime=null,t.lastClickTime=null}}),{once:!0})}),{once:!0}))},e.prototype.monitorPopunderBehavior=function(){var e=this;this.initTime=Date.now(),window.addEventListener("focus",(function(){if(e.initTime){var t=Date.now()-e.initTime;e.saveAndUpdateComebackTime(t),t<=3e3&&e.setMetric(1),e.initTime=null}}),{once:!0})},e.prototype.resetMetric=function(){this.setMetric(0)},e.prototype.getMetric=function(){var e=parseInt(I.get(this.localKey)||"0",10);return this.resetMetric(),e},e.prototype.getComebackTimes=function(){return JSON.parse(I.get(this.comebackKey)||"[]")},e.CLICK_THRESHOLD=1e3,e}();var Me=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Me(t,e),t.prototype.getLocalStorageKey=function(){return"p_v_p_s_t"},t.prototype.start=function(){return e=this,t=void 0,n=function(){var e,t=this;return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){switch(i.label){case 0:this.cumulativeEvents(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,ke("video:not(.vast_player_video)")];case 2:return null==(e=i.sent())||e.addEventListener("seeked",(function(){t.addEventValue(1)})),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n},t}(Se);var Ne=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.getLocalStorageKey=function(){return"p_t_s_t"},t.prototype.start=function(){var e=this;this.cumulativeEvents(),setInterval((function(){e.setEventValue(Math.round(e.sessionService.getDurationTime("")/1e3))}),1e3)},t}(Se);var Ue=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MAX_AWAIT_TIME=2e4,t.CHECKING_INTERVAL=3e3,t.maxFreqClicksPerWaitTime=3,t.freqClicksPerWaitTime=0,t.clicksHandler=function(){t.freqClicksPerWaitTime+=1},t}return Ue(t,e),t.prototype.getLocalStorageKey=function(){return"p_h_f_c_t"},t.prototype.start=function(){var e=this;document.addEventListener("click",this.clicksHandler),this.interval=window.setInterval((function(){e.freqClicksPerWaitTime>=e.maxFreqClicksPerWaitTime?(e.setEventValue(!0),e.destroy()):e.freqClicksPerWaitTime=0}),this.CHECKING_INTERVAL),this.timeout=window.setTimeout((function(){e.destroy()}),this.MAX_AWAIT_TIME)},t.prototype.destroy=function(){document.removeEventListener("click",this.clicksHandler),window.clearInterval(this.interval),window.clearTimeout(this.timeout)},t}(Se);var He=1,Re=100,Fe=1,Be=void 0,Ve=void 0,ze="asap",Ke="returnStaleValue";const We=function(){function e(){var e=this;if(this.isDevtoolsOpen=!1,this.isDetectorPaused=!0,this.resolveVerdict=void 0,this.nextPulse=NaN,this.doOnePulse=function(){var t;null===(t=e.heart)||void 0===t||t.postMessage({moreDebugs:Fe})},Worker)switch(this.heart=new Worker(URL.createObjectURL(new Blob(['"use strict";\n        onmessage = (ev) => { postMessage({ isOpenBeat:true });\n\t      debugger; for (let i = 0; i < ev.data.moreDebugs; i++) { debugger; }\n\t      postMessage({ isOpenBeat:false });\n      };'],{type:"text/javascript"}))),ze){case"manual":break;case"asap":this.paused=!1;break;case"domContentLoaded":"loading"!==document.readyState?this.paused=!1:document.addEventListener("DOMContentLoaded",(function(t){e.paused=!1}),{once:!0})}}return e.prototype.onHeartMsg=function(e){var t=this;e.data.isOpenBeat?new Promise((function(e){t.resolveVerdict=e,setTimeout((function(){t.resolveVerdict(!0)}),Re+1)})).then((function(e){if(null!==e){if(e!==t.isDevtoolsOpen){t.isDevtoolsOpen=!!e;var i={true:Be,false:Ve}["".concat(e)];i&&i()}t.nextPulse=setTimeout((function(){t.nextPulse=NaN,t.doOnePulse()}),1e3*He)}})):this.resolveVerdict(!1)},Object.defineProperty(e.prototype,"isOpen",{get:function(){if(this.isDetectorPaused&&"throw"===Ke)throw new Error('`onCheckOpennessWhilePaused` is set to `"throw"`.');return this.isDevtoolsOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.isDetectorPaused},set:function(e){var t,i;this.isDetectorPaused!==e&&(this.isDetectorPaused=e,e?(null===(t=this.heart)||void 0===t||t.removeEventListener("message",this.onHeartMsg.bind(this)),clearTimeout(this.nextPulse),this.nextPulse=NaN,this.resolveVerdict(null)):(null===(i=this.heart)||void 0===i||i.addEventListener("message",this.onHeartMsg.bind(this)),this.doOnePulse()))},enumerable:!1,configurable:!0}),e}();var Ge=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.devToolsCheckTime=1e3,t}return Ge(t,e),t.prototype.getLocalStorageKey=function(){return"p_d_c_a_t"},t.prototype.start=function(){var e=this;if(!this.getMetric()){var t=new We;this.setEventValue(t.isOpen),setInterval((function(){e.setEventValue(t.isOpen)}),this.devToolsCheckTime)}},t}(Se),Ye=function(){function e(e,t,i,n){this.spotId=n,this.videoPauseFreqTracker=new xe(e),this.videoScrollFreqTracker=new Le(e),this.timeSessTracker=new je(e),this.devConsoleActivityTracker=new Je(e),this.highFreqClicksTracker=new qe(e),this.selectiveEngagementTracker=new Pe,this.engagementTracker=new Ce,this.clicksPerSecondTracker=new Oe,this.scrollSpeedTracker=new Ie,this.eventsLatencyDetector=new Ae,this.intoleranceTracker=new De(n,this.eventsLatencyDetector)}return e.prototype.setSpotId=function(e){this.spotId=e,this.intoleranceTracker.setSpotId(e)},e.prototype.setComebackUrl=function(e){this.intoleranceTracker.setComebackUrl(e)},e.prototype.startTrackers=function(){this.videoPauseFreqTracker.start(),this.videoScrollFreqTracker.start(),this.timeSessTracker.start(),this.devConsoleActivityTracker.start(),this.selectiveEngagementTracker.startTracking(),this.engagementTracker.startTracking(),this.clicksPerSecondTracker.startTracking(),this.scrollSpeedTracker.startTracking(),this.intoleranceTracker.monitorTabunderBehavior(),this.highFreqClicksTracker.start()},e.prototype.startTrackersOnBeforeOpen=function(e){"tabunder"===e.popunderType?this.intoleranceTracker.tabunderActivated():"popunder"===e.popunderType?this.intoleranceTracker.monitorPopunderBehavior():"tabup"===e.popunderType&&this.intoleranceTracker.monitorTabupBehavior()},e.prototype.getMetrics=function(){return{videoPauseFreq:this.videoPauseFreqTracker.getMetrics(),selectivity:this.selectiveEngagementTracker.getMetric(),involvement:this.engagementTracker.getMetric(),clicksPerSecond:this.clicksPerSecondTracker.getStoredClicksPerSecond(),scrollSpeed:this.scrollSpeedTracker.getStoredScrollSpeed(),intolerance:this.intoleranceTracker.getMetric(),timeSess:this.timeSessTracker.getMetrics(),videoScrollFreq:this.videoScrollFreqTracker.getMetrics(),comeback:this.intoleranceTracker.getComebackTimes(),devConsoleActivity:this.devConsoleActivityTracker.getMetric()||!1,highFreqClicks:this.highFreqClicksTracker.getMetric()||!1}},e}();var Qe=i(876),Ze=i.n(Qe);const Xe=function(){function e(e,t,i){var n,r;this.LSfield="mdf",this.LSfieldDebugMode="mddmf",this.LSfieldUserEventWait="mdduev",this.LSfieldStartTime="mddst",this.LSfieldEmptyClickAndVideoWatched="j23nr23",this.LSfieldDetectionPatternsValues="ltpvs",this.emptyClicks=0,this.scrollPercent=0,this.moderatorDetected=!1,this.DETECTION_DURATION_SECS=25e3,this.MAX_EMPTY_CLICKS=0,this.debugMode=!1,this.detectionEndMs=0,this.videoWatchTime=0,this.pageVisible=!0,this.pausedTime=0,this.DETECTION_CHECK_INTERVAL=1e3,this.visibilityChangeHandler=null,this.visibilityChangeBindingId=null,this.admMetrics=e,this.userMetricManager=t,this.sessionService=i,this.moderatorDetected=null!==(n=this.sessionService.getItem(this.LSfield))&&void 0!==n&&n,this.detectionEndMs=null!==(r=Number(this.sessionService.getItem(this.LSfieldStartTime)))&&void 0!==r?r:0}return e.prototype.pauseDetection=function(){window.clearInterval(this.interval),this.pausedTime=Date.now()},e.prototype.resumeDetection=function(){var e=Date.now()-this.pausedTime;this.detectionEndMs+=e,this.startDetectionInterval()},e.prototype.getLastDetectionPatternsValues=function(){return this.sessionService.getItem(this.LSfieldDetectionPatternsValues)},e.prototype.setDetectionEndTime=function(){this.detectionEndMs=Date.now()+this.DETECTION_DURATION_SECS,this.sessionService.setItem(this.LSfieldStartTime,this.detectionEndMs)},e.prototype.isDetectionTimeExpired=function(){return this.detectionEndMs>0&&Date.now()>=this.detectionEndMs},e.prototype.checkPatterns=function(){var e,t,i,n,r,o,s,a,c,u,l,d,p,h=this;this.emptyClicks=this.admMetrics.clickProcessor.emptyCount,this.scrollPercent=null!==(i=null===(t=null===(e=this.admMetrics)||void 0===e?void 0:e.scrollTracker)||void 0===t?void 0:t.totalPercentScrolled)&&void 0!==i?i:0,this.scrollSpeed=null!==(o=null===(r=null===(n=this.userMetricManager)||void 0===n?void 0:n.getMetrics())||void 0===r?void 0:r.scrollSpeed)&&void 0!==o?o:0,this.isHighFreqClick=Boolean(null===(s=this.userMetricManager)||void 0===s?void 0:s.highFreqClicksTracker.getMetric()),this.isDevToolsOpen=Boolean(null===(a=this.userMetricManager)||void 0===a?void 0:a.devConsoleActivityTracker.getMetric()),this.videoWatchTime=null!==(l=null===(u=null===(c=this.userMetricManager)||void 0===c?void 0:c.getMetrics())||void 0===u?void 0:u.involvement[0])&&void 0!==l?l:0,this.moderatorDetected=(p=(d=h.sessionService.getItem(h.LSfieldEmptyClickAndVideoWatched))||0===h.emptyClicks&&h.videoWatchTime>0,!d&&p&&h.sessionService.setItem(h.LSfieldEmptyClickAndVideoWatched,1),!p&&h.emptyClicks>0||this.scrollPercent>68||this.scrollSpeed>=400||this.isDevToolsOpen||this.isHighFreqClick),this.sessionService.setItem(this.LSfield,this.moderatorDetected),this.sessionService.setItem(this.LSfieldDetectionPatternsValues,{highFreqClicks:this.isHighFreqClick,emptyClickCounter:this.emptyClicks,scrollPercent:this.scrollPercent,scrollSpeed:this.scrollSpeed,devConsoleActivity:this.isDevToolsOpen})},e.prototype.isUserGestureDone=function(){return this.sessionService.getItem(this.LSfieldUserEventWait)},e.prototype.waitUserGesture=function(){var e=this;return this.isUserGestureDone()?Promise.resolve():new Promise((function(t){["click","scroll"].forEach((function(i){window.addEventListener(i,(function(){t(),e.isUserGestureDone()||(e.setDetectionEndTime(),e.sessionService.setItem(e.LSfieldUserEventWait,!0))}),{once:!0})}))}))},e.prototype.stopDetectionInterval=function(){window.clearInterval(this.interval),this.interval=void 0},e.prototype.startDetectionInterval=function(e){var t=this;this.interval=window.setInterval((function(){t.checkPatterns(),(t.moderatorDetected||t.isDetectionTimeExpired())&&(t.stopDetectionInterval(),null==e||e(t.moderatorDetected))}),this.DETECTION_CHECK_INTERVAL)},e.prototype.isModerator=function(){return e=this,t=void 0,n=function(){var e=this;return function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return this.onDebugMode(),this.moderatorDetected||this.isDetectionTimeExpired()?[2,this.moderatorDetected]:[4,this.waitUserGesture()];case 1:return t.sent(),this.visibilityChangeHandler=function(t,i){e.pageVisible="visible"===i,e.pageVisible?e.resumeDetection():e.pauseDetection()},this.visibilityChangeBindingId=Ze().change(this.visibilityChangeHandler),[2,new Promise((function(t){e.startDetectionInterval((function(){e.removeVisibilityChangeListener(),t(e.moderatorDetected)}))}))]}}))},new((i=void 0)||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n},e.prototype.removeVisibilityChangeListener=function(){null!==this.visibilityChangeBindingId&&("number"==typeof this.visibilityChangeBindingId&&Ze().unbind(this.visibilityChangeBindingId),this.visibilityChangeBindingId=null)},e.prototype.onDebugMode=function(){var e;if(this.debugMode=null!==(e=this.sessionService.getItem(this.LSfieldDebugMode))&&void 0!==e&&e,URLSearchParams){var t=new URLSearchParams(window.location.search);this.debugMode=this.debugMode||"1"===t.get("p_a_debug"),this.debugMode&&(this.showDebugLabel(),this.sessionService.setItem(this.LSfieldDebugMode,!0))}},e.prototype.createDebugLabel=function(){var e=document.createElement("div");return e.style.position="fixed",e.style.bottom="10px",e.style.left="10px",e.style.zIndex="100000",e.style.background="brown",e.style.borderRadius="10px",e.style.color="white",e.style.padding="10px",e.innerHTML="<p></p>",document.body.appendChild(e),e.firstChild},e.prototype.showDebugLabel=function(){var e=this;if(!this.debugLabelNode){var t=function(){if(!e.detectionEndMs)return"Первые действие посетителя не совершены";var t=e.pageVisible?Math.max(e.detectionEndMs-Date.now(),0):Math.max(e.detectionEndMs-e.pausedTime,0),i=e.getLastDetectionPatternsValues(),n="".concat(e.moderatorDetected?"Пользователь модератор":"Пользователь не модератор"," \n\n      Оставшееся время: ").concat(Math.ceil(t/1e3)," сек \n\n      *Условие для детекта указаны в [] \n\n      Пустые клики: ").concat(null==i?void 0:i.emptyClickCounter," [>").concat(e.MAX_EMPTY_CLICKS,"] \n\n      Процент скролла страницы: ").concat(null==i?void 0:i.scrollPercent," [>68] \n\n      Скорость скролла: ").concat(null==i?void 0:i.scrollSpeed," [>=400] \n\n      Открыта девконсоль: ").concat(null==i?void 0:i.devConsoleActivity," [true] \n\n      Пользователь делает 3 клика за 3 сек: ").concat(null==i?void 0:i.highFreqClicks," [true] \n\n      Просмотрено видео до пустых кликов: ").concat(e.sessionService.getItem(e.LSfieldEmptyClickAndVideoWatched)?"Да":"Нет"," \n");return t<=0&&(n+="\nВремя детекта истекло"),n};this.debugLabelNode=this.createDebugLabel(),this.debugLabelNode.innerText=t();var i=window.setInterval((function(){(e.moderatorDetected||e.isDetectionTimeExpired())&&window.clearInterval(i),e.debugLabelNode.innerText=t()}),this.DETECTION_CHECK_INTERVAL)}},e}();const $e=function(){function e(e,t,i){this.LSkey="b_b_r_",this.url=e,this.sessionService=t,this.startType=i,this.fired||this.init()}return e.prototype.init=function(){window.addEventListener("popstate",this.popStateHandler.bind(this)),this.initialized||window.addEventListener("click",this.addBackButtonHistoryState.bind(this))},e.prototype.addBackButtonHistoryState=function(){this.initialized||(history.replaceState({bb:!0},"",location.pathname+location.search),history.pushState({bb:!1},"",window.location.href),this.initialized=!0,window.removeEventListener("click",this.addBackButtonHistoryState))},e.prototype.popStateHandler=function(e){var t;if((null===(t=history.state)||void 0===t?void 0:t.bb)&&(history.replaceState(null,document.title,location.pathname+location.search),this.url)){var i=re(event,this.sessionService,this.startType),n=ne(this.url,[i]);this.fired=!0,window.location.replace(n)}},e.prototype.getBbState=function(){return JSON.parse(this.sessionService.getItem(this.LSkey)||null)},e.prototype.saveBbState=function(e){this.sessionService.setItem(this.LSkey,JSON.stringify(e))},Object.defineProperty(e.prototype,"initialized",{get:function(){var e,t=this.getBbState();return null!==(e=null==t?void 0:t.init)&&void 0!==e&&e},set:function(e){var t=this.getBbState()||{};t.init=e,this.saveBbState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fired",{get:function(){var e,t=this.getBbState();return null!==(e=null==t?void 0:t.fired)&&void 0!==e&&e},set:function(e){var t=this.getBbState()||{};t.fired=e,this.saveBbState(t)},enumerable:!1,configurable:!0}),e}();var et="sc_p_t";const tt=function(){function e(){if(this.scheduledSpots=[],e.instance)return e.instance;this.clearCache(),e.instance=this}return e.prototype.clearCache=function(){var e=this,t=this.getCachedScheduledPops();Object.keys(t).forEach((function(t){var i=e.getScheduledTimeLeft(Number(t));"number"==typeof i&&i<-864e5&&e.removeFromCache(t)}))},e.prototype.getScheduledTimeLeft=function(e){var t=this.getCachedScheduledPops();return!!Number(t[e])&&Number(t[e])-Date.now()},e.prototype.getFirstShowDelay=function(e,t){var i="number"==typeof t?t:e;return!!i&&6e4*i},e.prototype.schedulePopIfPossible=function(e,t,i){var n,r=e||{},o=r.options,s=r.spot_id;if(this.scheduledSpots.includes(s))return!0;if(!(n=this.getCachedScheduledPops()[s]?!this.isDelayExpired(s)&&this.getScheduledTimeLeft(s):this.getFirstShowDelay(o.delay_per_first_pop,i)))return!1;this.scheduledSpots.push(s);var a=this.getCallbackHandler(s,t);return setTimeout(a,n),this.saveToCache(n,s),!0},e.prototype.getCallbackHandler=function(e,t){var i=this;return function(){var n=i.scheduledSpots.indexOf(e);-1!==n&&i.scheduledSpots.splice(n,1),t()}},e.prototype.saveToCache=function(e,t){var i=this.getCachedScheduledPops();i[t]||(i[t]=Date.now()+e,sessionStorage.setItem(et,JSON.stringify(i)))},e.prototype.removeFromCache=function(e){var t=this.getCachedScheduledPops();t[e]&&delete t[e],sessionStorage.setItem(et,JSON.stringify(t))},e.prototype.getCachedScheduledPops=function(){return function(e,t){var i;try{i=JSON.parse(e||"".concat(t))}catch(e){i=t}return i}(sessionStorage.getItem(et),{})},e.prototype.isDelayExpired=function(e){var t=this.getScheduledTimeLeft(e);return"number"==typeof t&&t<=0},e.prototype.getDelayByGoogleFriendly=function(e){var t=e.isFriendlyGoogleActive,i=e.custom_settings;return t?i.isGoogleEligibleTube?6:3:0},e.prototype.getDelayByModerator=function(e){return e?17:20},e}();var it=function(){return it=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},it.apply(this,arguments)},nt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},rt=function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ot=function(){function e(e,t){this.FIRST_TABUNDER_ACTIVE_CAPPING_SPOT=421034,this.youtubeAuthDetector=e,this.tests=t,this.historyService=null,this.popService=null,this.isFirstRun=!0,this.interestIds=[],this.userMetricsManager=null,this.sharedStorage=null,this.isModerator=!1,this.currentPop=null}return e.prototype.initServices=function(e,t,i,n){this.historyService=new A(e,t),this.visitCounter=new ye(n.getSessionId()),this.popService=new pe(this.historyService,t,this.globalClickHandler,n,this.interestIds),i&&(window[he]=window[he]||this.popService)},e.prototype.getMockedCustomSettings=function(e,t){return void 0===t&&(t={}),it({isThreeTabsRedirect:391578===e,isGoogleEligible:[399380,20742].includes(e),isGoogleEligibleRefferer:[5852,5849].includes(e),isTubeSite:467278===e,isGoogleEligibleTube:5849===e},t)},e.prototype.runSpot=function(e,t,i,n){var r,o,s,a,c,u;return void 0===n&&(n=!1),nt(this,void 0,void 0,(function(){var d,p,h,v,m,g,y,w,k,S,T,_,C,O,I,E,A,D,M,L,N,j,U,q,H,R=this;return rt(this,(function(F){switch(F.label){case 0:return e.custom_settings=this.getMockedCustomSettings(e.spot_id,e.custom_settings),t.debugMode&&console.log("Pop. Version: ".concat(l)),e.options.popunder_type in f?(d=i.hashGenerator,p=i.SessionService,h=i.cookies,v=i.GlobalClickHandler,m=i.ClickCounter,g=i.SharedStorage,y=i.metrics,function(e,t){return e.options.friendly_yandex&&"Yandex"===t.ua.browser.name||e.options.friendly_google&&(t.ua.os.name.toLowerCase().includes("chrom")||"Google"===t.ua.device.vendor)&&be(t,e.custom_settings)}(e,t)?[2]:(w=new tt,k=function(){return R.runSpot(e,t,i,!0)},S=!1,n||(S=w.schedulePopIfPossible(e,k)),S?[2]:(T=this,[4,we(g)]))):[2];case 1:return T.interestIds=F.sent(),this.isFirstRun&&(this.isFirstRun=!1,this.globalClickHandler=v,this.clickCounter=m,this.sharedStorage=g,this.initServices(h,t.ua,e.options.export_pop_global,p),this.userMetricsManager=new Ye(p,y,t,null),this.userMetricsManager.startTrackers()),_=function(e,t,i,n,r){var o,s,a,c=t.type,u=i.visitorId,l=i.visitorIdString,d=i.timezoneOlson,p=t.spot_id,h=t.options.store_name||"ca_pop_".concat(p),f=$(t.options.capping_time_sec,t.options.capping_time,W.minute,i.isTubeSite),v=t.options.reset_cappings,m=Number(t.options.frequency),g=$(t.options.frequency_interval_time_sec,t.options.frequency_interval_time,W.minute,i.isTubeSite),y=Number(t.options.frequency_per_page),w=e.interestIds,k=(null===(o=null==e?void 0:e.userMetricsManager)||void 0===o?void 0:o.getMetrics())||{},S=k.videoPauseFreq,T=k.videoScrollFreq,_=k.selectivity,x=k.timeSess,P=k.involvement,C=k.intolerance,O=k.scrollSpeed,I=k.clicksPerSecond,E=k.comeback,A=[],D=i.isAdBlock&&("boolean"!=typeof t.options.is_hash_ssp_url||t.options.is_hash_ssp_url),M=e.youtubeAuthDetector.authStatus,L=!!t.options.original_config,N=!1;L&&(N=function(e,t,i){if(!t)return!1;var n=t.getConfiguration(e.storeName),r=function(e,t){return Object.entries({maxHitsPerSession:["frequency"],maxHitsPerPage:["frequency_per_page"],nextHitTime:["frequency_interval_time_sec","frequency_interval_time"],sessionTime:["capping_time_sec","capping_time"]}).reduce((function(i,n){var r,o,s=n[0],a=n[1],c=a[0],u=a[1],l=null===(r=e.originalConfig)||void 0===r?void 0:r[c],d=$(l,null===(o=e.originalConfig)||void 0===o?void 0:o[u],W.minute,t);return i[s]=void 0!==l?d:e[s],i}),{})}(e,i);return ie.canClick(e,n).result&&!ie.canClick(r,n).result}({storeName:h,nextHitTime:$(t.options.frequency_interval_time_sec,t.options.frequency_interval_time,W.minute,i.isTubeSite),maxHitsPerPage:Number(t.options.frequency_per_page),sessionTime:f,maxHitsPerSession:m,originalConfig:t.options.original_config},e.historyService,i.isTubeSite)),i.isWebView&&A.push("webview");var j,U=t.options.back_button_direct?"bbr=1":"",q=t.options.friendly_google&&(!i.isTubeSite||t.options.moderator_friendly);return{type:c,spotId:p,visitorId:u,visitorIdString:l,storeName:h,popunderType:t.options.popunder_type,frequency:m,frequencyIntervalTime:g,frequencyPerPage:y,cappingTime:f,resetCappings:v,labels:t.labels||[],allowedLabels:t.allowed_labels||[],spaceId:t.space_id,subId:t.sub_id,userId:t.user_id,backUrl:t.options.back_url,minCpm:t.options.min_cpm,primaryAuctionUrl:t.primary_auction_url,reserveSSPUrl:t.popunder_ssp_url,exoclickZoneId:t.options.exoclick_zone_id,fingerprint:i.userId,device:i.ua.device,resolution:i.resolution,holdableQSParams:i.holdableQSParams,isAdblock:i.isAdBlock,isWebView:i.isWebView,isInApp:i.isInApp,sourceId:i.sub,forceExoclick:t.options.force_exoclick,forceUrl:t.force_url||null,forceTwinredUrl:t.force_twinred_url||null,entryReferrerDomain:i.entryReferrerDomain||"",magmaSourceId:i.magmaSourceId||null,friendlyYandex:t.options.friendly_yandex,isAccelerometer:i.isAccelerometer||0,isGyroscope:i.isGyroscope||0,sspId:t.ssp_id||0,tubesAdTags:i.tubesAdTags||"",pageKeywords:i.keywords||"",tagAbVersion:i.tagAbVersion,isCloakingConfig:i.v2,rchange:t.rchange||!1,hashedSSPUrl:D&&r?"".concat(r.generateAuctionUrl("popunder"),"/get/"):null,isDirectAuction:!1,mediation:t.options.mediation||!1,isMetaMask:i.isMetaMaskActive,iabCategory:i.iabCategory||24,event_id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),ipv4CheckUrl:t.options.ip_check_url||"https://nereserv.com/in/dip",abTestMark:U,youTubeAuthStatus:M,isCloaking:N,isSpotHasCloaking:L,scrollSpeed:O,clicksPerSecond:I,selectivity:_,involvement:P,intolerance:C,interestIds:w,videoPauseFreq:S,timeSess:x,videoScrollFreq:T,comeback:E,timezone:i.timezone,timezoneOlson:d,features:A,isTabunderPerPageCappingActive:!1,bindTo:t.options.bind_to,ignoreTo:t.options.ignore_to,overlay:t.options.overlay||!1,beforeOpen:t.options.before_open,shouldOpen:t.options.should_open,afterOpen:null,sharedStorage:e.sharedStorage,userAgentData:i.userAgentData,visitCounter:e.visitCounter,clickCounter:n.clickProcessor.count,scrollPercent:Math.min(Math.round(null!==(a=null===(s=null==n?void 0:n.scrollTracker)||void 0===s?void 0:s.totalPercentScrolled)&&void 0!==a?a:0),100),emptyClickCounter:n.clickProcessor.emptyCount,topics:i.topics,startType:q?3:4,isFriendlyGoogleActive:q&&be(i,t.custom_settings),custom_settings:t.custom_settings,testAbId:(j=t.isSplitTestActive,fe?b.versionB:j?b.versionA:b.off)}}(this,e,t,y,d),C=function(e,t){var i,n,r=e.options.popunder_type,o="desktop"===(null===(i=t.ua.device)||void 0===i?void 0:i.type),s=window.top!==window.self;return(t.isAdBlock&&"interstitial"!==e.options.popunder_type||"popunder"===e.options.popunder_type&&!o)&&(r="tabunder"),(!t.isTubeSite&&s&&("tabunder"===r||"popunder"===r&&"mobile"===(null===(n=t.ua.device)||void 0===n?void 0:n.type))||"popunder"===r&&!t.isTubeSite&&!t.isAdBlock&&Math.random()<.05)&&(r="tabup"),r}(e,t),_.popunderType=C,this.userMetricsManager.setSpotId(_.spotId),_.spotId>this.FIRST_TABUNDER_ACTIVE_CAPPING_SPOT&&(_.isTabunderPerPageCappingActive=!0),t.ua.device.type,t.entryReferrerDomain.includes("google"),O=e.options.back_button_direct,I=w.getDelayByGoogleFriendly(_),E={},_.isFriendlyGoogleActive?(this.moderatorDetector=null!==(r=this.moderatorDetector)&&void 0!==r?r:new Xe(y,this.userMetricsManager,p),A=this,[4,this.moderatorDetector.isModerator()]):[3,3];case 2:A.isModerator=F.sent(),E=null!==(o=this.moderatorDetector.getLastDetectionPatternsValues())&&void 0!==o?o:{},_.startType=this.isModerator?2:1,this.isModerator||(I=0),F.label=3;case 3:return _.resetCappings&&this.popService.reset(),_.custom_settings.isThreeTabsRedirect&&(this.popService.threeTabsRedirect=!0),_.overlay?[4,ve({storeName:_.storeName,popunderType:_.popunderType,frequencyIntervalTime:_.frequencyIntervalTime,frequencyPerPage:_.frequencyPerPage,cappingTime:_.cappingTime,frequency:_.frequency,beforeOpen:_.beforeOpen,shouldOpen:_.shouldOpen,historyService:this.historyService})]:[3,5];case 4:F.sent(),F.label=5;case 5:return _.youTubeAuthStatus||!this.youtubeAuthDetector.isUpdatePossible()?[3,10]:_.isFriendlyGoogleActive?(D=_,[4,this.detectYouTubeAuth()]):[3,7];case 6:return D.youTubeAuthStatus=F.sent(),[3,10];case 7:return _.isDirectAuction=!0,[4,x(_,null===(s=this.userMetricsManager)||void 0===s?void 0:s.getMetrics(),E)];case 8:return null!=(M=F.sent()).targetUrl&&(this.currentPop=P(M,this.createPopOptions(_,p))),L=_,[4,this.detectYouTubeAuth()];case 9:L.youTubeAuthStatus=F.sent(),_.isDirectAuction=!1,F.label=10;case 10:return(N=oe.getResponse(_.spotId))?[3,12]:[4,x(_,null===(a=this.userMetricsManager)||void 0===a?void 0:a.getMetrics(),E)];case 11:N=F.sent(),F.label=12;case 12:return null===(c=this.userMetricsManager)||void 0===c||c.eventsLatencyDetector.saveInitialTimeStampOfEvent(Ee.request),_.isFriendlyGoogleActive&&function(e){var t,i;return null===(i=null===(t=e.ua.browser)||void 0===t?void 0:t.name)||void 0===i?void 0:i.toLowerCase().includes("chrome")}(t)&&function(e){return!e.entryReferrerDomain||e.entryReferrerDomain===window.location.hostname}(t)&&function(e){var t,i;return null!==(i=null===(t=null==e?void 0:e.conditions)||void 0===t?void 0:t.includes("tz_offset"))&&void 0!==i&&i}(N)&&(oe.saveResponse(N,_.spotId),I=w.getDelayByModerator(this.isModerator)),w.schedulePopIfPossible(e,k,I)?[2]:(N.comebackUrl&&(null===(u=this.userMetricsManager)||void 0===u||u.setComebackUrl(N.comebackUrl)),(j=N.creativeUrl&&"sendBeacon"in navigator)&&(U=ne(N.targetUrl,["no_redirect_to_creative=true"]),N.targetUrl=N.creativeUrl,q=_.beforeOpen,_.beforeOpen=function(e,t,i,n){var r,o=n(i,p,_.startType),s=ne(U,[o]);s+="&prev_step_diff=".concat(null===(r=R.userMetricsManager)||void 0===r?void 0:r.eventsLatencyDetector.getLatencyOfEvent(Ee.request)),navigator.sendBeacon(s),q&&q(e,t,i,n)}),H=_.beforeOpen,_.beforeOpen=function(){for(var e,t,i,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(null===(e=R.userMetricsManager)||void 0===e||e.startTrackersOnBeforeOpen(_),null===(t=R.userMetricsManager)||void 0===t||t.eventsLatencyDetector.saveInitialTimeStampOfEvent(Ee.click),r[4]+="&prev_step_diff=".concat(null===(i=R.userMetricsManager)||void 0===i?void 0:i.eventsLatencyDetector.getLatencyOfEvent(Ee.request)),N.comebackUrl&&("tabup"===_.popunderType||"tabunder"===_.popunderType)){var s={comebackUrl:N.comebackUrl,spotId:_.spotId,clickTime:Date.now()};null===(n=R.userMetricsManager)||void 0===n||n.intoleranceTracker.saveComebackData(s)}H&&H.apply(void 0,r)},N.targetUrl?(O&&(this.popService.backButtonRedirect=!0,new $e(N.targetUrl,p,_.startType)),this.currentPop&&this.popService.removePop(this.currentPop),this.currentPop=P(N,this.createPopOptions(_,p,j)),[2]):[2])}}))}))},e.prototype.createPopOptions=function(e,t,i){return void 0===i&&(i=!1),{frequency:e.frequency,frequencyIntervalTime:e.frequencyIntervalTime,frequencyPerPage:e.frequencyPerPage,cappingTime:e.cappingTime,storeName:e.storeName,beforeOpen:e.beforeOpen,afterOpen:e.afterOpen,shouldOpen:e.shouldOpen,popunderType:e.popunderType,bindTo:e.bindTo,ignoreTo:e.ignoreTo,sessionId:null==t?void 0:t.getSessionId(),youtubeAuthDetector:this.youtubeAuthDetector,popunderParams:e,popService:this.popService,isTabunderPerPageCappingActive:e.isTabunderPerPageCappingActive,startType:e.startType,shouldAddQuery:!i}},e.prototype.detectYouTubeAuth=function(){return nt(this,void 0,void 0,(function(){var e;return rt(this,(function(t){switch(t.label){case 0:return[4,this.youtubeAuthDetector.detectYouTubeAuth()];case 1:return e=t.sent(),this.youtubeAuthDetector.setYoutubeAuthMarker(e,e?null:Date.now().toString()),[2,e]}}))}))},e}();const st=ot;var at,ct,ut,lt=((at=new(function(){function e(){this.nextUpdate=null,this.localStoreKey="_cp_ytba",this.betweenUpdateDelayMins=60,this.authStatus=!1,this.nextUpdate=null}return e.prototype.setYoutubeAuthMarker=function(e,t){void 0===t&&(t=null),this.authStatus=e,this.nextUpdate=t,I.set(this.localStoreKey,JSON.stringify({authStatus:e,nextUpdate:t}))},e.prototype.isUpdatePossible=function(){return!this.nextUpdate||function(e,t){if(!e||!t)return null;var i=60*t*1e3;return Date.now()-e>i}(+this.nextUpdate,this.betweenUpdateDelayMins)},e.prototype.loadYoutubeAuthMarker=function(){var e=I.get(this.localStoreKey);if(e){var t=JSON.parse(e);this.authStatus=t.authStatus,this.nextUpdate=t.nextUpdate}},e.prototype.detectYouTubeAuth=function(){var e=document.createElement("img");return e.referrerPolicy="no-referrer",e.src="https://accounts.google.com/ServiceLogin?passive=true&continue=https%3A%2F%2Fm.youtube.com%2Ffavicon.ico&uilel=3&hl=en&service=youtube",new Promise((function(t){e.onload=function(){t(!0)},e.onerror=function(){t(!1)}}))},e}())).loadYoutubeAuthMarker(),new st(at,{BACK_BUTTON_REDIRECT_TEST:{spotIds:[305904,399696,53446,82675,365228,385926]},TABUP_TEST:{spotIds:[468314,467278,47158]}})),dt=window["__ampop-init"];Array.isArray(dt)&&lt.runSpot.apply(lt,dt),ut=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lt.runSpot.apply(lt,e)},e[ct="__popunder-event"]=ut,t[ct]&&(function(i){t[i].forEach((t=>{t(e[i])}))}(ct),t[ct]=null)})()})();
